<div class="history-container">
  <a class="back-btn" routerLink="/">
    <!-- Misma flecha SVG que History -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
    </svg>
    Volver
  </a>

  <div class="history-card">
    <h2>Crear Reserva</h2>

    <form [formGroup]="form" (ngSubmit)="onBook()" class="filter-form">
      <div class="fields">
        <div class="field">
          <label>Cliente ID</label>
          <input formControlName="clientId" placeholder="Tu Client ID" />
          <small *ngIf="form.controls['clientId'].invalid && form.controls['clientId'].touched">Requerido</small>
        </div>
        <div class="field">
          <label>Vehículo</label>
          <select formControlName="vehicleId">
            <option value="" disabled>-- elige un vehículo --</option>
            <option *ngFor="let v of vehicles" [value]="v.id">
              {{ v.licensePlate }} ({{ v.type }})
            </option>
          </select>
          <small *ngIf="form.controls['vehicleId'].invalid && form.controls['vehicleId'].touched">Requerido</small>
        </div>
        <div class="field">
          <label>Fecha inicio</label>
          <input type="datetime-local" formControlName="startDate" />
          <small *ngIf="form.controls['startDate'].invalid && form.controls['startDate'].touched">Requerido</small>
        </div>
        <div class="field">
          <label>Fecha fin</label>
          <input type="datetime-local" formControlName="endDate" />
          <small *ngIf="form.controls['endDate'].invalid && form.controls['endDate'].touched">Requerido</small>
        </div>
      </div>

      <div class="buttons">
        <button class="btn-primary" type="submit" [disabled]="form.invalid">Reservar</button>
      </div>
    </form>

    <p class="success" *ngIf="booking">¡Reserva creada! ID: {{ booking.id }} — Estado: {{ booking.status }}</p>
    <p class="no-results" *ngIf="form.invalid">Completa todos los campos para reservar.</p>
  </div>
</div>
